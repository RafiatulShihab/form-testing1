<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>4-Step Form with Timeline</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts linl -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Font Awesome CSS -->
     <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="main-form-top-wrap">
        <div class="main-form-second-wrap">
            <div class="custm-container main-form">
                <!-- Timeline -->
                <div class="timeline">
                    <div class="timeline-step" id="step-1">
                        <div class="icon">1</div>
                        <div class="timeline-label">Loan & Financial Information</div>
                    </div>
                    <div class="timeline-step" id="step-2">
                        <div class="icon">2</div>
                        <div class="timeline-label">Personal Information</div>
                    </div>
                    <div class="timeline-step" id="step-3">
                        <div class="icon">3</div>
                        <div class="timeline-label">Co-Borrower Details</div>
                    </div>
                    <div class="timeline-step" id="step-4">
                        <div class="icon">4</div>
                        <div class="timeline-label">EVVO & Date Format</div>
                    </div>
                    <div class="timeline-line"></div>
                    <div class="timeline-line-active" id="timeline-progress" style="width: 0;"></div>
                </div>

                <!-- Form -->
                <form id="multiStepForm">
                    <!-- Step 1 -->
                    <div class="form-step active" id="form-step-1">
                        <div class="form-row-wrapp">
                            <h3 class="form-title">Loan and Financial Details</h3>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="Loan Purpose">
                                <input type="text" placeholder="Credit Rating">
                            </div>
                        </div>
                        <!-- Loan Amount Desired Field -->
                        <div class="form-row-wrapp">
                            <h3 class="form-title">Loan Amount</h3>
                            <div class="slider-container position-relative">
                                <div id="sliderValue" class="slider-value text-center mb-2">$10,000</div>
                                <input type="range" class="range-slider w-100" min="1000" max="10000" value="10000" step="100" id="priceRange">
                                <div class="d-flex justify-content-between mt-2 slider-labels">
                                    <span>$1,000</span>
                                    <span>$10,000+</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-row-wrapp mt-4 pt-3">
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="Employee Status">
                                <input type="text" placeholder="Pay frequency">
                                <input type="text" placeholder="Amount income">
                            </div>
                            <div class="form-input-row w-2">
                                <input type="text" placeholder="Educational Level">
                                <input type="text" placeholder="Property Status">
                            </div>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="form-step" id="form-step-2">
                        <div class="form-row-wrapp">
                            <h3 class="form-title">Personal Details</h3>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="First Name">
                                <input type="text" placeholder="Last Name">
                                <input type="email" placeholder="Email">
                            </div>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="Date of Birth">
                                <input type="text" placeholder="Home Phone">
                                <input type="text" placeholder="Cell Phone">
                            </div>
                        </div>
                        <div class="form-row-wrapp mt-5">
                            <h3 class="form-title">Address Details</h3>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="Address">
                                <input type="text" placeholder="Unit ( Optional">
                                <input type="text" placeholder="City">
                            </div>
                            <div class="form-input-row w-4">
                                <input type="text" placeholder="State">
                                <input type="text" placeholder="zip Code">
                                <input type="text" placeholder="Country">
                                <input type="text" placeholder="SSN">
                            </div>
                        </div>
                    </div>

                    <!-- Step 3 -->
                    <div class="form-step" id="form-step-3">
                        <div class="form-row-wrapp">
                            <h3 class="form-title">Co-Borrower Details</h3>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="First Name">
                                <input type="text" placeholder="Last Name">
                                <input type="text" placeholder="Date of birth">
                            </div>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="Income">
                                <input type="text" placeholder="Address 1">
                                <input type="text" placeholder="Unit (Optional)">
                            </div>
                            <div class="form-input-row w-3">
                                <input type="text" placeholder="City">
                                <input type="text" placeholder="State">
                                <input type="text" placeholder="ZIP Code">
                            </div>
                        </div>
                    </div>

                    <!-- Step 4 -->
                    <div class="form-step" id="form-step-4">
                        <div class="form-row-wrapp">
                            <h3 class="form-title">EVVO & Date Format Details </h3>
                            <div class="form-input-row w-3">
                                <input type="email" placeholder="Agebt Email">
                                <input type="text" placeholder="Salesforce">
                                <input type="text" placeholder="Date Format">
                            </div>
                        </div>
                        
                        <!-- step 4 submited button -->
                        <div class="global-nav-buttons submitBtn">
                             <button type="submit" class="btn btn-success mt-3" id="submitBtn">Submit</button>
                        </div>
                    </div>
                </form>

                <!-- Global Previous and Next Buttons -->
                <div class="global-nav-buttons">
                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="previousStep()">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextStep()">Next</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="successModalLabel">Form Submitted</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Your form has been submitted successfully!
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-success" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript -->
    <script>
        let currentStep = 1;

        function nextStep() {
            if (currentStep < 4) {
                document.getElementById(`form-step-${currentStep}`).classList.remove('active');
                document.getElementById(`step-${currentStep}`).classList.add('completed');

                // Change icon to checkmark for completed step
                document.querySelector(`#step-${currentStep} .icon`).innerHTML = '<i class="fa-solid fa-check"></i>';

                currentStep++;
                document.getElementById(`form-step-${currentStep}`).classList.add('active');
                document.getElementById(`step-${currentStep}`).classList.add('active');
                updateTimelineProgress();
            }

            // Change "Next" button to "Finish" on the last step
            if (currentStep === 4) {
                document.getElementById('nextBtn').textContent = 'Finish';
            }

            // Hide next button on the last step
            if (currentStep === 4) {
                document.getElementById('nextBtn').style.display = 'none';
            }

            document.getElementById('prevBtn').disabled = false;
        }

        function previousStep() {
            if (currentStep > 1) {
                document.getElementById(`form-step-${currentStep}`).classList.remove('active');
                document.getElementById(`step-${currentStep}`).classList.remove('active');

                // Revert icon to original number for previous step
                if (currentStep > 1) {
                    const previousStepIcon = (currentStep - 1).toString();
                    document.querySelector(`#step-${currentStep - 1} .icon`).innerHTML = previousStepIcon;
                }

                currentStep--;
                document.getElementById(`form-step-${currentStep}`).classList.add('active');
                document.getElementById(`step-${currentStep}`).classList.remove('completed');
                updateTimelineProgress();
            }

            // Show next button if going back from the last step
            if (currentStep < 4) {
                document.getElementById('nextBtn').style.display = 'block';
                document.getElementById('nextBtn').textContent = 'Next';
            }

            // Disable previous button if on the first step
            if (currentStep === 1) {
                document.getElementById('prevBtn').disabled = true;
            }
        }

        function updateTimelineProgress() {
            const progressPercentage = ((currentStep - 1) * 25); // 25% for each step
            const progressBar = document.getElementById('timeline-progress');
            progressBar.style.width = `${progressPercentage}%`;
        }


        // submit functions 
        document.getElementById('submitBtn').addEventListener('click', function (event) {
            event.preventDefault(); // Prevent form submission

            // Show all steps as completed
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`step-${i}`).classList.add('completed');
                document.querySelector(`#step-${i} .icon`).innerHTML = '<i class="fa-solid fa-check"></i>';
            }

            // Update timeline to 100% and change color to green
            const progressBar = document.getElementById('timeline-progress');
            progressBar.style.width = '100%';
            progressBar.style.backgroundColor = 'green';
            const iconColor = document.querySelectorAll('.icon');
           

            // Trigger the success modal
            var successModal = new bootstrap.Modal(document.getElementById('successModal'), {});
            successModal.show();
        });

        // Initialize the previous button state
        document.getElementById('prevBtn').disabled = true;
    </script>
    <!-- Slider Script -->
<script>
    const slider = document.getElementById('priceRange');
    const sliderValue = document.getElementById('sliderValue');

    // Function to smoothly update the displayed slider value
    slider.oninput = function () {
        const currentValue = parseInt(this.value).toLocaleString();
        let targetValue = this.value >= 10000 ? '$10,000+' : `$${currentValue}`;

        // Smoothly update the displayed value
        requestAnimationFrame(() => {
            sliderValue.innerHTML = targetValue;
        });

        // Update the background color of the slider's selected area
        const percentage = (this.value - this.min) / (this.max - this.min) * 100;
        this.style.background = `linear-gradient(to right, rgba(190, 175, 135, 1) ${percentage}%, #ddd ${percentage}%)`;
    };

    // Initial background update
    slider.oninput();
</script>
</body>
</html>
